package com.opentesting.tests;

import java.util.LinkedHashMap;

import org.assertj.core.api.Assertions;
import org.testng.annotations.DataProvider;
import org.testng.annotations.Test;

import com.opentesting.pages.OrangeHRMHomePage;
import com.opentesting.pages.OrangeHRMLoginPage;
import com.opentesting.reports.ExtentsReport;
import com.opentesting.utils.DataProviderUtils;

public final class OrangeHRMLoginPageTest extends BaseTest {

	@Test(dataProvider="getData",dataProviderClass = DataProviderUtils.class)
	public void loginLogoutTest(LinkedHashMap<String, String> data) throws Exception
	{
		OrangeHRMLoginPage ohlp=new OrangeHRMLoginPage();
		String title=ohlp.enterUsername(data.get("username")).
		enterPassword(data.get("password")).clickLogin().
		clickWelcome().clickLogout().
		getPageTitle();
		System.out.println("Title is"+title);
		
		Assertions.assertThat(title)
		.isNotBlank()
		.isNotEmpty()
		.isNotNull()
		.isEqualTo("OrangeHRM");
		
	
	}
	
	
	@Test(dataProvider="getData",dataProviderClass = DataProviderUtils.class)
	public void newTest(LinkedHashMap<String, String> data) throws Exception
	{
		OrangeHRMLoginPage ohlp=new OrangeHRMLoginPage();
		String title=ohlp.enterUsername(data.get("username")).
		enterPassword(data.get("password")).clickLogin().
		clickWelcome().clickLogout().
		getPageTitle();
		System.out.println("Title is"+title);
		
		Assertions.assertThat(title)
		.isNotBlank()
		.isNotEmpty()
		.isNotNull()
		.isEqualTo("OrangeHRM");
		
	
	}
	
	
	@DataProvider(name="LogintestDataProvider" ,parallel=true)
	public Object[][] getData()
	{
		
		return new Object[][] {
			{"Admin","admin123"},
//			{"Admin","admin12345"},
		};
		
	}




}
