package com.opentesting.utils;

import java.lang.reflect.Method;
import java.util.ArrayList;
import java.util.LinkedHashMap;

import org.testng.annotations.DataProvider;

public class DataProviderUtils {


	@DataProvider
	public Object[] getData(Method m)
	{

		ArrayList<LinkedHashMap> data=ExcelUtils.readExceldatainmap("DATA");
		ArrayList<LinkedHashMap> newlist=new ArrayList<>();

		String testname=m.getName();
		for(LinkedHashMap<String, String>iterationdata:data)
		{

			if(iterationdata.get("testname").equalsIgnoreCase(testname))
			{
				if(iterationdata.get("execute").equalsIgnoreCase("yes"))
				{
					newlist.add(iterationdata);

				}
			}

		}




		return newlist.toArray();



	}


}
